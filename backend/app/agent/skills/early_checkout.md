# 提前离店

处理酒店客人申请提前离店的客服请求。

## 处理流程

你需要按以下步骤处理提前离店请求：

1. 从用户消息中提取订单号和客户诉求信息
2. 调用 order_query 工具，传入订单号，查询对应的供应商订单号
3. 调用 message_send 工具，向 upstream 频道发送消息，内容包含供应商订单号和客户的提前离店诉求
4. 等待上游供应商回复处理结果
5. 根据上游回复，调用 refund 工具执行退款登记
6. 调用 message_send 工具，向 downstream 频道回复最终处理结果，告知客人退款已登记

## 注意事项

- 每一步都要使用对应的工具完成操作
- 如果订单查询失败，直接告知用户订单不存在并终止流程
- 最终回复需包含处理结果摘要
